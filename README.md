# Hybus-Smart4412를 이용한 숫자 야구 게임

## 소개
한경대학교 **IoT 프로그래밍** 수업에서 진행된 프로젝트로, **Hybus-Smart4412** 보드와 **리눅스**, **C 언어**를 활용하여 개발한 숫자 야구 게임입니다.

## 개발 기간
2024.5 ~ 2024.6

**4조 팀원**:
- **김태민**
- **김수영**
- **김주원**
- **박건희**

## 게임 시스템

숫자 야구 게임은 다음과 같은 단계로 진행됩니다:

1. **비밀 번호 설정**:
   - **플레이어**: 두 명의 플레이어가 게임을 진행합니다.
   - **첫 번째 라운드**: 3자리 숫자를 설정합니다.
   - **두 번째 라운드**: 4자리 숫자를 설정합니다.
   - **중복 방지**: 비밀 번호의 각 자리는 중복되지 않아야 합니다.

2. **숫자 추측**:
   - **스트라이크**: 추측한 숫자 중 자리와 숫자가 모두 맞는 경우.
   - **볼**: 추측한 숫자 중 숫자만 맞고 자리는 틀린 경우.

3. **게임 진행**:
   - **라운드**: 두 플레이어가 번갈아 가며 숫자를 추측합니다.
   - **승리 조건**: 스트라이크 수가 비밀 번호의 길이와 같으면 해당 플레이어가 승리합니다.

4. **점수 계산**:
   - **시작 점수**: 각 플레이어는 1000점으로 시작합니다.
   - **점수 차감**: 추측 실패 시마다 10점이 깎이고, 추측에 걸린 시간에 따라 초당 1점이 추가로 깎입니다.

## 외부 입출력 장치 기능

### CLCD (Character LCD)
- **초기화**: CLCD를 초기화하고, 화면을 지웁니다.
- **문구 표시**: 게임 진행 상황을 CLCD에 표시합니다.
  - 예: 환영 문구, 현재 라운드, 플레이어의 숫자 입력 등을 표시합니다.

### Dot Matrix
- **초기화**: Dot Matrix를 초기화하고, 모든 LED를 꺼둡니다.
- **아이콘 및 상태 표시**: 
  - **야구공 아이콘**: 게임 시작 후 Dot Matrix에 야구공 아이콘을 표시합니다.
  - **상태 표시**: 스트라이크('S'), 아웃('O'), 홈런('H'), 볼('B') 상태를 Dot Matrix에 표시합니다.
  - `BASEBALL_ICON`: 야구공 아이콘 패턴.
  - `STRIKE`: 스트라이크 상태 패턴.
  - `OUT`: 아웃 상태 패턴.
  - `HOME_RUN`: 홈런 상태 패턴.
  - `BALL`: 볼 상태 패턴.

### FND (7-Segment Display)
- **초기화**: FND를 초기화하고, 모든 세그먼트를 꺼둡니다.
- **숫자 표시**: 플레이어가 입력한 숫자, 게임 점수 등을 FND에 표시합니다.
- **홈런 시 숫자 표시**: 홈런을 달성했을 때, FND에 순차적으로 숫자를 표시합니다 (1에서 9까지).

### Tact Switch
- **입력 읽기**: Tact Switch의 상태를 읽어 입력을 처리합니다.
  - **숫자 입력**: 0부터 9까지의 숫자를 입력할 수 있습니다.
  - **엔터 입력**: Tact Switch 10과 12는 'E' (엔터)로 처리됩니다.
  - **숫자 0 입력**: Tact Switch 11은 '0'으로 처리됩니다.

### LED
- **제어**: 게임 상황에 따라 LED를 켜고 끕니다.
  - **홈런 시 LED 깜빡임**: 홈런을 달성했을 때 LED를 깜빡입니다. 
  - LED 제어 예시:
    - `LED_RED_0`: 홈런 시 빨간색 LED가 깜빡입니다.
    - `LED_GREEN_1`: 홈런 시 초록색 LED가 깜빡입니다.
    - `LED_YELLOW_2`: 홈런 시 노란색 LED가 깜빡입니다.
    - `LED_BLUE_3`: 홈런 시 파란색 LED가 깜빡입니다.

## 주요 기능 설명

- **초기화**: 각 장치를 초기화하고, 시작 상태로 설정합니다.
- **CLCD 사용**: 게임의 진행 상황을 CLCD에 표시합니다.
- **Dot Matrix 사용**: 게임 상태를 Dot Matrix에 표시합니다.
- **FND 사용**: 플레이어의 숫자 입력 및 게임 점수를 FND에 표시합니다.
- **Tact Switch 사용**: 플레이어의 입력을 받아 처리합니다.
- **LED 사용**: 특정 상황(예: 홈런)에서 LED를 제어합니다.
- **게임 로직**: 두 플레이어가 번갈아 가며 숫자를 추측하고, 스트라이크와 볼을 계산하여 점수를 기록하고, 최종 승자를 결정합니다.


## 게임 플로우차트
<img src="https://github.com/teitow/IoT_programming/blob/main/image/%EC%88%AB%EC%9E%90%EC%95%BC%EA%B5%AC%EA%B2%8C%EC%9E%84%ED%94%8C%EB%A1%9C%EC%9A%B0%EC%B0%A8%ED%8A%B8.drawio.png" width="50%" height="50%">

## 도트 사이트
https://xantorohara.github.io/led-matrix-editor/#0000000000000000

